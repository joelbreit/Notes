# .NET CLI Guide

## Initial Setup

1. **Create the project structure:**

```powershell
mkdir <FolderName>
cd <FolderName>
dotnet new sln -n <SolutionName>

# Add a shared library
dotnet new classlib -n <LibraryName>

# Create projects
dotnet new console -n <ProjectName> # A ProjectName.csproj will be created in a new folder named ProjectName

# Add existing projects to solution
dotnet sln add <ProjectFolder1>/<ProjectName1>.csproj

# Add project references
dotnet add <ProjectFolder1>/<ProjectName1>.csproj reference <LibraryName>
```

2. **Install MessagePack NuGet package:**
```powershell
dotnet add <ProjectName>/<ProjectName>.csproj package MessagePack
```

3. **Build and run:**
```powershell
# Build everything
dotnet build

# Run one project
## From the solution root
dotnet run --project <ProjectFolder1>/<ProjectName1>

## From the project folder
cd <ProjectFolder1>
dotnet run
```

## Add New Projects

```powershell
dotnet new console -n NewProject
dotnet sln add NewProject/NewProject.csproj
dotnet add NewProject/NewProject.csproj reference Shared/Shared.csproj
dotnet add NewProject/NewProject.csproj package PackageName
```

> If you want the project nested in an existing folder, use the `-o` option:

```powershell
dotnet new console -n NewProject -o ExistingFolder/NewProject
...
```

## Remove a Project

```powershell
dotnet sln remove NewProject/NewProject.csproj
rm -r NewProject
```

> To move a project, just move the folder and then use `dotnet sln remove` and `dotnet sln add` to update the solution.

## List Projects

```powershell
dotnet sln list
```

## To Add

- [ ] `dotnet watch`
- [ ] `dotnet test`
- [ ] `dotnet publish`
- [ ] `dotnet user-secrets`
- [ ] `dotnet restore`